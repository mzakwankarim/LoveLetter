<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>A Secret Message Just For You</title>
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Custom Fonts: Open Sans for body, Great Vibes for the romantic feel -->
    <link href="https://fonts.googleapis.com/css2?family=Great+Vibes&family=Open+Sans:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        /* General Body Styling */
        body {
            font-family: 'Open Sans', sans-serif;
            background: linear-gradient(to bottom right, #fcebeb, #ffcdd2, #ef9a9a); /* Soft pink/red gradient */
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 1rem;
            color: #333;
        }

        /* --- Envelope Styles --- */
        #envelope-container {
            width: 300px;
            height: 200px;
            position: relative;
            cursor: pointer;
            transition: all 0.5s ease;
            filter: drop-shadow(0 15px 30px rgba(0, 0, 0, 0.2));
            perspective: 1000px;
            z-index: 5; /* Ensure the envelope is above the background but below the modal */
        }

        /* The main pink body of the envelope */
        #envelope-body {
            background-color: #ffb3c1; /* Soft pink */
            width: 100%;
            height: 100%;
            border-radius: 12px;
            position: absolute;
        }

        /* The decorative triangular flap on the front */
        #envelope-front-v {
            position: absolute;
            width: 0;
            height: 0;
            border-style: solid;
            border-width: 100px 150px 0 150px;
            border-color: #e8799b transparent transparent transparent; /* Darker pink triangle */
            top: 0;
            left: 0;
            border-radius: 12px 12px 0 0;
            z-index: 2;
        }

        /* The main flap that opens (the top edge) */
        #envelope-flap {
            position: absolute;
            width: 100%;
            height: 100px;
            border-top: 100px solid #ef82a7; /* Flap color (slightly darker) */
            border-left: 150px solid transparent;
            border-right: 150px solid transparent;
            top: 0;
            left: 0;
            transform-origin: top; /* Rotate from the top edge */
            transition: transform 0.6s ease-in-out;
            z-index: 3;
            border-radius: 12px 12px 0 0;
            pointer-events: none; /* Ignore clicks on the flap itself */
        }
        
        /* --- FULL SCREEN LETTER OVERLAY STYLES --- */
        #letter-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            background-color: rgba(0, 0, 0, 0.6); /* Semi-transparent dark background */
            z-index: 10; /* High Z-index to cover everything else */
            
            /* Initial state: Hidden and transparent */
            visibility: hidden;
            opacity: 0;
            transition: opacity 0.5s ease, visibility 0.5s ease;
        }
        
        /* The actual paper content */
        #letter-content {
            background-color: white;
            padding: 3rem 2rem;
            max-width: 95vw; /* Almost full screen width */
            max-height: 95vh; /* Almost full screen height */
            width: 800px; /* Maximize readability on large screens */
            height: auto;
            overflow-y: auto; /* Enable scrolling if message is long */
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.4);
            border-radius: 16px;
            transform: scale(0.8); /* Start smaller for transition */
            transition: transform 0.5s cubic-bezier(0.68, -0.55, 0.265, 1.55);
            position: relative; /* For positioning the close button */
            text-align: center;
            /* Flex layout for content centering */
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
        }

        /* --- Active Classes for Reveal Animation --- */

        /* 1. Flap opens backward (same as before) */
        .open-flap #envelope-flap {
            transform: rotateX(180deg);
            z-index: 4; 
        }

        /* 2. Full-screen letter becomes visible */
        .letter-visible {
            opacity: 1 !important;
            visibility: visible !important;
        }
        .letter-visible #letter-content {
            transform: scale(1) !important; /* Expand to full size */
        }

        /* Confession Text Styling */
        .heading-font {
            font-family: 'Great Vibes', cursive;
            text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.05);
        }

        /* Heart Animation for the final message */
        @keyframes heartbeat {
            0% { transform: scale(1); }
            50% { transform: scale(1.1); }
            100% { transform: scale(1); }
        }
        .animate-heart {
            animation: heartbeat 1.5s infinite ease-in-out;
        }

    </style>
</head>
<body>
    
    <!-- Outer wrapper for instruction and centering -->
    <div class="flex flex-col items-center">
        
        <!-- Instruction to click -->
        <p id="instruction" class="text-xl font-semibold text-gray-700 mb-8 transition-opacity duration-500 ease-in-out">
            Click the envelope to open...
        </p>

        <!-- Main Envelope Container. Now only handles the envelope visual. -->
        <div id="envelope-container" onclick="openEnvelope()">
            
            <!-- Envelope Body -->
            <div id="envelope-body">
                <!-- Front V-fold -->
                <div id="envelope-front-v"></div>

                <!-- A subtle seal in the center -->
                <div class="absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 text-4xl text-white z-20">
                    üíå
                </div>
            </div>
            
            <!-- Envelope Flap (The part that moves) -->
            <div id="envelope-flap"></div>

        </div>
    </div>
    
    <!-- --- NEW FULL-SCREEN LETTER OVERLAY (Hidden by default) --- -->
    <div id="letter-overlay">
        <div id="letter-content">
            <!-- Close Button -->
            <button onclick="closeEnvelope()" class="absolute top-3 right-3 text-gray-500 hover:text-red-500 transition duration-200 p-2 rounded-full bg-white bg-opacity-80">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2.5" stroke="currentColor" class="w-6 h-6">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12" />
                </svg>
            </button>
            
            <!-- Letter Content -->
            <div class="w-full">
                <div class="heading-font text-5xl md:text-6xl text-red-600 mb-6">
                    For You, Nabila
                </div>
                
                <!-- Toggleable Message Area -->
                <div id="confessionText" class="text-lg md:text-xl text-gray-700 leading-relaxed mb-6 max-w-lg mx-auto">
                    <!-- Message content loaded by JavaScript -->
                </div>

                <!-- Toggle Link/Text - Changed from button to span for text-based interaction -->
                <span id="toggleMessageButton" onclick="toggleMessage()" 
                    class="inline-block cursor-pointer text-pink-500 text-lg font-semibold hover:text-red-600 hover:underline transition duration-300 mb-8">
                    <!-- Text loaded by JavaScript -->
                </span>

                <!-- Navigation Buttons -->
                <div class="flex justify-between w-full max-w-xs mx-auto mb-8">
                    <a id="prevButton" href="javascript:void(0)" onclick="prevMessage()" 
                    class="text-lg font-semibold transition duration-300 transform hover:scale-105" 
                    style="color: #ef82a7;">
                        Previous
                    </a>
                    
                    <a id="nextButton" href="javascript:void(0)" onclick="nextMessage()" 
                    class="text-lg font-semibold transition duration-300 transform hover:scale-105" 
                    style="color: #ef82a7;">
                        Next
                    </a>
                </div>
                
                <!-- <p class="heading-font text-4xl text-red-500 mt-4 animate-heart">
                    [Your Name] ‚ù§Ô∏è
                </p> -->
            </div>
        </div>
    </div>


    <script>
        // Get elements
        const envelope = document.getElementById('envelope-container');
        const instruction = document.getElementById('instruction');
        const letterOverlay = document.getElementById('letter-overlay');
        const confessionTextElement = document.getElementById('confessionText');
        const toggleButton = document.getElementById('toggleMessageButton');

        // Define messages and button texts
        const messages = [
            {
                buttonText: "Next",
                text: `
                    From the moment I saw you, I was amazed by your beauty. But as I got to know you, I realized you‚Äôre so much more than that.
                    <br><br>
                    Your voice, your laugh, the way you talk, your smile, your maturity, your intelligence, and even the way you dress.
                    <br><br>
                    Everything about you amazes me even more.
                `
            },
            {
                buttonText: "Back",
                text: `
                    When I was a kid, I had this idea of what the perfect woman would be like.
                    <br><br>
                    I never thought I‚Äôd find all those qualities in one person, but you proved me wrong.
                    <br><br>
                    You are perfect, and even more. I really appreciate you as a person and...
                    <br><br>
                    saya suka awak ‚ù§Ô∏è
                `
            },
            {
                text: `
                    Saya rasa tenang je bila tengok awak. Saya rasa selesa and saya boleh jadi diri saya sendiri bila dengan awak.
                    <br><br>
                    Walaupun umur kita berbeza, tapi kita banyak persamaan, antara sebab saya ada perasaan dkt awak
                    <br><br>
                    Saya dah plan lama nak confess dekat awak. Tapi saya tahan and saya ambil masa lama sikit untuk confess, sebab saya nak 100% sure dengan perasaan saya
                    <br><br>
                    Saya appreciate awak confess dulu perasaan awak pada Kak Nuurul üòÇ‚ù§Ô∏è
                `
            },
            {
                text: `
                    Actually, saya terkejut juga bila Kak Nuurul bagitahu saya. Yela saya ni banyak kelemahan, awak pula bagi saya terlalu sempurna üòÖ
                    <br><br>
                    Saya sebenarnya dah nekad taknak ada perasaan pada colleague, tapi saya kalah pada awak hehehe
                    <br><br>
                    Benda yang kita taknak tulaa dia datang yaa. Tapi takpa, kalau benda baik, tak salah kan hehehe
                `
            },
            {
                text: `
                    Saya hormat awak, saya berniat baik pada awak, saya serious dan kalau boleh saya nak berkawan dgn ada tujuan nya.
                    <br><br>
                    Sejujurnya, buat masa sekarang saya belum bersedia untuk berkahwin, sebab saya masih belum ready mentally and physically.
                    <br><br>
                    Tapi, insya-Allah mulai sekarang, saya akan berusaha sedaya upaya saya untuk bersedia.
                `
            },
            {
                text: `
                    Dalam masa 6-7 bulan dari sekarang (around bulan 4-5 next year), insya-Allah kalau saya dah ready, saya akan jumpa parents awak.
                    <br><br>
                    Dan saya pun bawa awak jumpa parents saya. Kalau dua2 family tiada halangan, kita boleh bincang untuk ke peringkat seterusnya,
                    <br><br>
                    which is.... hehehe ‚ú®üòÑ
                `
            },
            {
                text: `
                    Saya tak berani nak berjanji lebih2 dengan awak, sebab saya pun takut juga ni sebenarnya üòÖ
                    <br><br>
                    Tetapi saya berani janji untuk berusaha sepenuhnya untuk bersiap sedia dalam masa 6-7 bulan ni. 
                    <br><br>
                    At least, saya dah ada objective yang jelas dan kita berkawan pun ada tujuan kan?
                `
            },
            // {
            //     text: `
            //         Dan kalau boleh laaa, saya taknak satu office, satu company dengan isteri, nanti dkt rumah jumpa, office jumpa.
            //         <br><br>
            //         Nanti perasaan rindu tu takda hehehehe ngade2 kan
            //         <br><br>
            //         insya-Allah saya usaha kan untuk dapat kerja di company yang lagi better, maybe Singapore ke kan, even takda benefits tapi gaji kita boleh share hahaha
            //     `
            // },
            // {
            //     text: `
            //         Saya punya plan, kalau boleh saya taknak tunang, terus nikah jee. Awak okay ke?
            //         <br><br>
            //         After dapat kerja baru je, kita terus set tarikh majlis, maybe 2 bulan after that?
            //         <br><br>
            //         2 bulan cukup kot rasanya untuk kita buat preparation, tapi ni rasanya kena bincang dengan family awak kot nanti üòÖ
            //     `
            // },
            {
                text: `
                    And dalam masa 6 bulan ni juga, kalau saya buat status kita as 'Kawan rapat' boleh ke?
                    <br><br>
                    Saya taknak status boyfriend/girlfriend sebab saya takut tak berkat hubungan kita üòÖ
                    <br><br>
                    Saya nak ada hubungan yang Allah suka, yang Allah redhai, nak ada rasa kemanisan tu üòä
                `
            },
            {
                text: `
                    Haaa satu lagi saya nak cerita. Bulan lepas kan saya buat solat istikharah minta petunjuk jodoh (awak).
                    <br><br>
                    Saya minta petunjuk dlm bentuk warna dalam mimpi, jika awak terbaik utk saya warna merah/kuning, kalau tak warna biru/putih, and guess what??
                `
            },
            {
                text: `
                    Dua kali saya mimpi warna merah üòä
                    <br><br>
                    Jadi kalau boleh saya nak minta awak buat juga solat istikharah. Takut juga awak baik untuk saya, tapi saya yg tak baik untuk awak üòÇüòÇ
                    <br><br>
                    insya-Allah kalau ada jodoh, urusan kita dipermudahkan. Saya akan sentiasa letak awak dalam doa saya ‚ù§Ô∏è
                `
            },
            {
                text: `
                    Even kalau takda jodoh pun, saya dah cukup bahagia dapat kenal dengan someone yang as amazing as you.
                    <br><br>
                    Tapi saya harap awak pun ada perasaan yg sama lah hahaha kalau takda, takpa saya terima.
                    <br><br>
                    Cinta tak boleh dipaksa kan kan kan. Jadi apa juga keputusan awak, saya terima dengan hati terbuka.
                `
            },
            // {
            //     text: `
            //         So, inilah suprise yang saya maksud kan hehehe nak confess dpn2 tak berani, confess guna 'surat' jela üòÇ
            //         <br><br>
            //         If ada anything yang awak nak suggest untuk hubungan ni, saya sudi mendengar nya yaa.
            //         <br><br>
            //         Awak take time laa dulu untuk process semua ni hahaha jangan rushing2, saya tak lari ü§≠
            //     `
            // },
            {
                text: `
                    So, inilah suprise yang saya maksud kan hehehe nak confess dpn2 tak berani, confess guna 'surat' jela üòÇ
                    <br><br>
                    Awak take time laa dulu untuk process semua ni hahaha jangan rushing2, saya tak lari ü§≠
                    <br><br>
                    Saya harap saya boleh tengok muka awak tersenyum malu waktu awak baca surat ni hehehe
                `
            },
            {
                text: `
                    Take care my Queen of Semut!
                    <br><br>
                    From:
                    <br><br>
                    <p class="heading-font text-4xl text-red-500 mt-4 animate-heart">
                        Zakwan ‚ù§Ô∏è
                    </p>
                `
            }
        ];

        let currentMessageIndex = 0; // Starts at the first message

        // Function to update the text and button based on the current index
        function renderMessage() {
            const current = messages[currentMessageIndex];
            // Update the text content
            confessionTextElement.innerHTML = current.text; 

            // --- Navigation Logic ---
            // Hide Previous button on the first message
            prevButton.style.visibility = (currentMessageIndex === 0) ? 'hidden' : 'visible';
            prevButton.style.pointerEvents = (currentMessageIndex === 0) ? 'none' : 'auto';

            // Hide Next button on the last message
            nextButton.style.visibility = (currentMessageIndex === messages.length - 1) ? 'hidden' : 'visible';
            nextButton.style.pointerEvents = (currentMessageIndex === messages.length - 1) ? 'none' : 'auto';
        }

        // Function to go to the next message
        function nextMessage() {
            if (currentMessageIndex < messages.length - 1) {
                currentMessageIndex++;
                renderMessage();
            }
        }

        // Function to go to the previous message
        function prevMessage() {
            if (currentMessageIndex > 0) {
                currentMessageIndex--;
                renderMessage();
            }
        }


        // Function to cycle between the two messages
        function toggleMessage() {
            // Cycle between 0 and 1
            currentMessageIndex = 1 - currentMessageIndex;
            renderMessage();
        }

        function openEnvelope() {
            // Disable clicking the envelope after it's been clicked once to start the sequence
            envelope.onclick = null;
            instruction.style.opacity = '0'; // Hide the instruction

            // 1. Open the flap instantly
            envelope.classList.add('open-flap');

            // 2. Wait for the flap opening animation (0.6s) to finish, then show the full-screen letter.
            setTimeout(() => {
                letterOverlay.classList.add('letter-visible');
                renderMessage(); // Render the initial message when the letter appears
            }, 650); 
        }

        function closeEnvelope() {
            // 1. Hide the full-screen letter instantly (this starts the 0.5s opacity/transform transition)
            letterOverlay.classList.remove('letter-visible');

            // 2. Wait for the letter to fade out (0.5s), then close the flap (0.6s transition).
            setTimeout(() => {
                envelope.classList.remove('open-flap');
                instruction.style.opacity = '1'; // Show the instruction again
                
                // Reset to the initial message state when closing
                currentMessageIndex = 0;
                
                // Re-enable clicking the envelope
                envelope.onclick = openEnvelope; 
            }, 550); 
        }
        
        // Attach the initial open function to the envelope container
        envelope.onclick = openEnvelope;
    </script>

</body>
</html>
